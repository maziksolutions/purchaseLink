<div class="card px-3 py-2 mb-1">
    <div class="position-relative">
          <div class="row">
              <div class="col-lg-4">
                <ul class="navbar-nav" data-top-nav-dropdowns="data-top-nav-dropdowns">
                    <li class="nav-item dropdown"><a class="dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="typeMaster">Engine Model</a>
                      <div class="dropdown-menu dropdown-menu-card border-0 mt-0" aria-labelledby="typeMaster">
                        <div class="bg-white dark__bg-1000 rounded-3 py-2">
                            <a class="dropdown-item link-600 fw-medium" href="/administration/vesselRegister">vessel Register</a>
                            <a class="dropdown-item link-600 fw-medium" href="/administration/engineType">Engine Type</a>
                            <a class="dropdown-item link-600 fw-medium" href="/administration/engineSubType">Engine Sub Type</a> 
                            
                            <a class="dropdown-item link-600 fw-medium" href="/administration/engineModel">Engine Model</a> 

                            <a class="dropdown-item link-600 fw-medium" href="/administration/shipType">Ship Type</a> 
                            <a class="dropdown-item link-600 fw-medium" href="/administration/eCDIS">ECDIS</a>                            
                            
                        </div>
                      </div>
                    </li>
                  </ul>
                  <span class="btn-sm ps-0 text-primary fw-bold">Administration<span class="fas fa-chevron-right ms-1 fs--2"></span></span><span class="btn-sm p-0">Vessel Particulars<span class="fas fa-chevron-right ms-1 fs--2"></span></span> &nbsp;<span class="btn-sm p-0">Engine Model</span>
              </div>
              <div class="col-lg-8">
                <form [formGroup]="searchForm" >
                  <div class="form-inline float-end mt-2">
                      <select class="form-control form-small form-select" #docStatus formControlName="status" (change)="loadData($any($event.target).value)">
                          <option selected="" value="0">Active Data</option>
                          <option value="1">Archive Data</option>
                      </select>
                      <span class="p-l-10 p-r-10 mm-t-3">|</span>
                      <input type="text" class="form-control form-small" (keyup)="applyFilter()" formControlName="keyword"
                          placeholder="Search" style="border-top-right-radius: 0; border-bottom-right-radius: 0px">
                      <button class="btn btn-primary form-small m-r-5"
                          style="border-top-left-radius: 0; border-bottom-left-radius: 0px" type="button"
                          data-bs-toggle="tooltip" data-bs-placement="top" title="" data-bs-original-title="Search"
                          aria-label=""><i class="fa fa-search" aria-hidden="true"></i></button>
                          <button class="btn btn-primary form-small m-r-5"
                          style="border-top-left-radius: 0; border-bottom-left-radius: 0px" type="button" data-bs-toggle="tooltip"
                          data-bs-placement="top" matTooltip="Clear Search Input" (click)="clearSearchInput()" data-bs-original-title="Search" aria-label=""><i class="fa fa-solid fa-eraser"></i></button>
                      <span class="p-l-10 p-r-10 mm-t-3">|</span>
  
                      <a *ngIf="rights?.addRight" class="accordion-btn collapsed px-2 m-r-1" type="button" data-bs-toggle="collapse" (click)="clear()"
                          data-bs-target="#collapse1" aria-expanded="true" matTooltip="Add" aria-controls="collapse1"><i
                              class="fas fa-plus text-primary"></i></a>
  
                      <a *ngIf="rights?.deleteRight" class="px-2 m-r-1" type="button" (click)="DeleteData()" data-bs-toggle="tooltip"
                          data-bs-placement="top" matTooltip="{{deletetooltip}}" data-bs-original-title="Delete" aria-label=""><i
                              class="fas fa-trash text-danger"></i></a>
  
                              <a class="px-2 m-r-1" style="color: green;" type="button" data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Excel" (click)="generateExcel()" 
                              data-bs-original-title="List" aria-label=""><i
                                  class="fas fa-file-excel"></i></a>
  
                     
                                  <a class="px-2 m-r-1" type="button" data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Export load data sheet" 
                                  data-bs-original-title="Export" aria-label="" (click)="exportLoadSheet()" ><i
                                      class="fas fa-file-export text-primary"></i></a>
  
                                      <a *ngIf="rights?.importRight" class="" (click)="openModal()" type="button"  data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Import data" data-bs-original-title="Import" aria-label=""><i class="fas fa-file-download text-primary"></i></a>
  
                  </div>
                  </form>
              </div>
          </div>
      </div>
  
  </div>


  <div class="card mb-2 bg-light">
    <div class="accordion-collapse collapse" id="collapse1" aria-labelledby="heading1"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
            <form (ngSubmit)="onSubmit(engineModelForm)" [formGroup]="engineModelForm">
                <div class="row mb-2">
                    <div class="col-md-3">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="model" class="form-control form-small" id="abc"
                                placeholder="Engine Model" appUppercase maxlength="10" required noWhiteSpace>
                        </fieldset>
                    </div>
                    <div class="col-md-3">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="maker" class="form-control form-small"
                                placeholder="Engine Maker" appUppercase maxlength="100" required noWhiteSpace>
                        </fieldset>
                    </div>
                    <div class="col-md-3">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="mobileNo" class="form-control form-small"
                                placeholder="Mobile No." appUppercase maxlength="15" required noWhiteSpace>
                        </fieldset>
                    </div>
                    <div class="col-md-3">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="postCode" class="form-control form-small"
                                placeholder="Post Code" appUppercase maxlength="10" required noWhiteSpace>
                        </fieldset>
                    </div>
                   
                    <!-- <div class="col-4">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="subType" class="form-control form-small"
                                placeholder="Engine Maker" appUppercase>
                        </fieldset>
                    </div> -->
                   
                </div>
                <div class="row mb-2">
                    <div class="col-md-4">
                        <fieldset class="form-group mb-0">
                            <input type="text" formControlName="street" class="form-control form-small"
                                placeholder="Address" appUppercase maxlength="100" required noWhiteSpace>
                        </fieldset>
                    </div>

 <div class="col-4">
                        <fieldset class="form-group mb-0">
                            <select class="form-control form-small form-select" id="basicSelect" formControlName="engineTypeId" required>
                              <option value="" disabled>Engine Types</option>
                              <option *ngFor="let item of engineTypes"value="{{item.engineTypeId}}">
                                {{item.engineTypeName | titlecase}}
                              </option>
                            </select>
                          </fieldset>
                    </div>

                    <div class="col-4">
                        <fieldset class="form-group mb-0">
                            <select class="form-control form-small form-select" id="basicSelect" formControlName="engineSubTypeId" required>
                              <option value="" disabled>Engine Sub Types</option>
                              <option *ngFor="let item of engineSubTypes"value="{{item.engineSubTypeId}}">
                                {{item.subType | titlecase}}
                              </option>
                            </select>
                          </fieldset>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-md-2">
                        <button *ngIf="rights?.ammendRight || this.fm.engineModelId.value=='0'" type="submit" class="btn btn-primary form-small m-r-5" data-bs-toggle="tooltip" data-bs-placement="top"  title="" data-bs-original-title="Save" aria-label=""  [disabled]="engineModelForm.invalid || !engineModelForm.dirty"><i
                                class="fas fa-save"></i></button>
                        <button type="button" class="btn btn-danger form-small m-r-5" data-bs-toggle="tooltip" (click)="close()" 
                            data-bs-placement="top" title="" data-bs-original-title="Cancel" aria-label=""><i
                                class="fas fa-ban"></i></button>
                </div>
                </div>
            </form>
        </div>
    </div>
</div>


<div class="card mb-3">

    <div class="card-body">
        <div class="table-responsive scrollbar">
            <mat-table #table [dataSource]="dataSource" matSort
                class="table table-hover table-striped table-sm small table-bordered">
                <ng-container matColumnDef="checkbox">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>
                        <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()">
                    </mat-checkbox>
                    </mat-header-cell>
                    <mat-cell *matCellDef="let row">
                        <mat-checkbox (click)="$event.stopPropagation()"
                            (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)"
                            [aria-label]="checkboxLabel(row)"></mat-checkbox>
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="model">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Engine Model</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                        <a (click)="Updatedata(row.engineModelId)"   class="accordion-btn show px-2 m-r-5" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapse1" type="button"  aria-expanded="true" aria-controls="collapse1"> {{row.model}}</a>
                    
                    </mat-cell>
                </ng-container>             
                <ng-container matColumnDef="maker">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Engine Maker</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.maker}}
                    
                    </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="mobileNo">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Mobile No.</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.mobileNo}}
                    
                    </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="postCode">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Post Code</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.postCode}}
                    
                    </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="street">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Address</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.street}}
                    
                    </mat-cell>
                </ng-container> 
                <ng-container matColumnDef="engineTypeId">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Engine Type</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.engineType.engineTypeName}}
                    
                    </mat-cell>
                </ng-container>
                <ng-container matColumnDef="engineSubTypeId">
                    <mat-header-cell *matHeaderCellDef mat-sort-header>Engine Sub Type</mat-header-cell>
                    <mat-cell *matCellDef="let row">                       
                       {{row.engineSubTypes.subType}}
                    </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
            <mat-paginator [length]="pageTotal" [pageIndex]="currentPage" [pageSizeOptions]="pageSizeOptions" (page)="pageChanged($event)" showFirstLastButtons>
            </mat-paginator>
        </div>
    </div>
</div>

